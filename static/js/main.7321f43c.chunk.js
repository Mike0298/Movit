(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{112:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(25),i=n.n(a),s=n(3),r=(n(68),n(7)),o=n(6),l=n.n(o),d=n(8),u=n(21),j=n.n(u),b="https://movit-api.herokuapp.com/api";function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0;return j()({method:t,url:"".concat(b,"/").concat(e),data:n}).catch((function(e){console.log("error",e)}))}var O,h="SET_ERRORS",p="LOADING_UI",x="STOP_LOADING_UI",v="CLEAR_ERRORS",f="LOADING_DATA",g="SET_MESSAGES",N="CLEAR_MESSAGES",y="GET_MOVIES",w="GET_MOVIE",S="GET_RANDOM_MOVIE",k="GET_MOVIES_BY_GENRE",E="ADD_MOVIE",_="DELETE_MOVIE",T="EDIT_MOVIE",I="LIKE_MOVIE",C="UNLIKE_MOVIE",L="ADD_COMMENT",A="SET_AUTHENTICATED",D="SET_UNAUTHENTICATED",M="SET_USER",R="LOADING_USER",U="FINISH_LOADING_USER",G="SET_VIEW",V="FETCH_USERS",q="ADMIN_LOADING",z="MOD_IFY",F="UNMOD_IFY",W=function(e){localStorage.setItem("x-auth-token",e),j.a.defaults.headers.common["x-auth-token"]=e},B=function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://movit-api.herokuapp.com/api/profile/me");case 3:n=e.sent,t({type:M,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},H=function(e){return{type:y,payload:e}},Y=function(e){return{type:S,payload:e}},P=n(10),J=n(11),K=n(17),Q=(n(92),n(1)),X=function(e){var t=Object(r.b)();console.log("navbar",e);var n=e.authenticated,a=e.userDetails,i=Object(c.useState)(n),s=Object(P.a)(i,2),o=s[0],l=s[1];Object(c.useEffect)((function(){l(n)}),[n]);return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)("div",{className:"nav-wrapper sticky",children:Object(Q.jsxs)("header",{className:"navbar",children:[Object(Q.jsx)(J.b,{to:"/",className:"link logo navbar-item",children:Object(Q.jsx)("span",{children:Object(Q.jsx)("strong",{children:"MOVIT"})})}),Object(Q.jsxs)("div",{className:"navbar-item",children:[o&&Object(Q.jsxs)("div",{className:"navbar-user-container",children:[Object(Q.jsx)("img",{className:"navbar-user-image",src:a.user.avatar,alt:""}),Object(Q.jsx)(K.g,{className:"navbar-user-options",size:24,onClick:function(){return t((function(e){localStorage.removeItem("x-auth-token"),e({type:D})}))}})]}),!o&&Object(Q.jsx)(J.c,{to:"/sign-up",className:"link get-started-btn",children:"Get Started"})]})]})})})},Z=n(61),$=(n(96),function(e){var t=e.movie;return Object(Q.jsx)("div",{className:"card",children:Object(Q.jsxs)(J.b,{className:"card-title",to:"/movies/"+t._id,movie:t,children:[Object(Q.jsx)("img",{className:"card-image",src:t.imageUrl,alt:""}),t.title]})})}),ee=(n(97),n(5)),te=n(62),ne=n.n(te),ce=n(63),ae=[{value:"action",label:"Action"},{value:"adventure",label:"Adventure"},{value:"animation",label:"Animation"},{value:"crime",label:"Crime"},{value:"comedy",label:"Comedy"},{value:"drama",label:"Drama"},{value:"fantasy",label:"Fantasy"},{value:"thriller",label:"Thriller"},{value:"sci-fi",label:"Sci-fi"}],ie={menuList:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{color:"#7975ec",fontSize:"18px"})},clearIndicator:function(e){return Object(s.a)(Object(s.a)({},e),{},{background:"#7975ec"})},indicatorsContainer:function(e){return Object(s.a)(Object(s.a)({},e),{},{background:"#7975ec"})},selectContainer:function(e){return Object(s.a)(Object(s.a)({},e),{},{outerWidth:"185px",innerWidth:"100%"})},indicatorSeparator:function(e){return Object(s.a)(Object(s.a)({},e),{},{background:"#2b2d42"})},multiValue:function(e){return Object(s.a)({},e)},multiValueLabel:function(e){return Object(s.a)(Object(s.a)({},e),{},{color:"#e9e9eb",background:"#7975ec",padding:"5px",borderRadius:"auto 0 0 auto",fontSize:"18px"})},multiValueRemove:function(e){return Object(s.a)(Object(s.a)({},e),{},{background:"#7975ec",borderRadius:"auto 0 0 auto"})},placeholder:function(e){return Object(s.a)(Object(s.a)({},e),{},{color:"#7975ec",padding:"5px"})}},se=function(e){var t=Object(r.b)(),n=function(e){e&&t(function(e){if(e)return function(){var t=Object(d.a)(l.a.mark((function t(n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m("movies/genres/".concat(e),"GET",null);case 2:c=t.sent,n({type:f}),n(Y(c.data));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e.value))};return Object(Q.jsx)("div",{style:{width:"185px"},children:Object(Q.jsx)(ce.a,{isClearable:!0,styles:ie,closeMenuOnSelect:!0,onChange:function(e){return n(e)},options:ae,isSearchable:!0,placeholder:"Choose a genre"})})},re=(n(112),function(){var e=Object(r.c)((function(e){return console.log("search",e),e.movie.movies}));return Object(Q.jsx)("input",{type:"text",placeholder:"\ud83d\udd0e Find something...",className:"searchbar",onChange:function(t){return n=t.target.value,console.log(n),console.log(e.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())}))),e.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())}));var n}})}),oe=Object(ee.css)(O||(O=Object(Z.a)(["\n    display: block;\n    margin: 0 auto;\n"]))),le=function(e){var t=e.movies,n=t.movies,a=t.loading,i=Object(c.useState)(!0),s=Object(P.a)(i,2),r=s[0],o=s[1];console.log("CardsList",e),Object(c.useEffect)((function(){o(a)}),[a]);return Object(Q.jsxs)("div",{style:{position:"sticky"},children:[r&&Object(Q.jsx)(ne.a,{css:oe,size:150,color:"#7959ec"}),!r&&Object(Q.jsx)("div",{className:"list",children:n.sort((function(e,t){return e.title.localeCompare(t.title)})).map((function(e,t){return Object(Q.jsx)($,{movie:e},t)}))})]})},de=(n(117),n(118),function(){var e=Object(r.c)((function(e){return e.user.authenticated})),t=Object(c.useState)(!1),n=Object(P.a)(t,2),a=n[0],i=n[1];Object(c.useEffect)((function(){i(e)}),[e]);return Object(Q.jsx)("div",{className:"landing-container",children:Object(Q.jsxs)("div",{children:[Object(Q.jsx)("h1",{className:"landing-title",children:"ADVENTURE AWAITS"}),Object(Q.jsx)("p",{className:"landing-small-title",style:{fontSize:"40px",fontWeight:"700"},children:"What are you waiting for?"}),!a&&Object(Q.jsx)(J.b,{to:"/sign-up",children:Object(Q.jsx)("button",{className:"landing-getStarted-btn landing-btn",children:"Get Started"})}),Object(Q.jsx)("button",{className:"landing-toBrowse-btn landing-btn",onClick:function(){window.scroll({top:880,behavior:"smooth"})},children:"Browse Movies"})]})})}),ue=function(e){return console.log("Home",e),Object(Q.jsx)("div",{className:"home-container",children:Object(Q.jsxs)("div",{className:"home-wrapper",children:[Object(Q.jsx)(de,{}),Object(Q.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"28px"},children:[Object(Q.jsx)(se,{}),Object(Q.jsx)(re,{})]}),Object(Q.jsx)(le,Object(s.a)({},e))]})})},je=n(38),be=(n(58),function(){var e=Object(c.useState)(!1),t=Object(P.a)(e,2),n=t[0],a=t[1];return[n?"text":"password",Object(Q.jsx)("span",{onClick:function(){return a((function(e){return!e}))},children:n?Object(Q.jsx)(K.a,{}):Object(Q.jsx)(K.b,{})})]}),me=n(9),Oe=function(){var e=Object(r.b)(),t=Object(me.f)(),n=be(),c=Object(P.a)(n,2),a=c[0],i=c[1],o=Object(je.a)(),u=o.register,b=o.handleSubmit,m=o.formState.errors,O=Object(r.c)((function(e){return e.user}));return Object(Q.jsx)("div",{className:"form-container",children:Object(Q.jsxs)("form",{onSubmit:b((function(n){e(function(e,t){return function(){var n=Object(d.a)(l.a.mark((function n(c){var a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:R}),n.next=4,j.a.post("https://movit-api.herokuapp.com/api/users/login",e);case 4:return a=n.sent,W(a.data.token),n.next=8,c(B());case 8:c({type:A}),t.push("/"),n.next=17;break;case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0.response),n.t0.response.data.error&&alert(n.t0.response.data.error),c({type:U});case 17:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(n,t))})),children:[Object(Q.jsx)("h1",{className:"form-name",children:"Sign in"}),Object(Q.jsx)("label",{children:"Email"}),Object(Q.jsx)("input",Object(s.a)({className:"input"},u("email",{required:"This is required",maxLength:{value:100,message:"Too long >:((((("}}))),m.email&&Object(Q.jsx)("p",{children:m.email.message}),Object(Q.jsx)("label",{children:"Password"}),Object(Q.jsx)("input",Object(s.a)({className:"input",type:a},u("password",{required:"This is required",maxLength:{value:100,message:"Invaild password"}}))),Object(Q.jsx)("i",{children:i}),m.password&&Object(Q.jsx)("p",{children:m.password.message}),Object(Q.jsx)("input",{className:"input",type:"submit",value:"Sign in",disabled:!!O.loading}),Object(Q.jsx)("div",{children:Object(Q.jsxs)("div",{style:{margin:"30px auto 0",width:"fit-content"},children:["Don't have an account yet?"," ",Object(Q.jsx)(J.b,{to:"/sign-up",style:{color:"#7975ec"},children:"Sign up"})]})})]})})},he=function(){var e=Object(r.b)(),t=Object(me.f)(),n=be(),c=Object(P.a)(n,2),a=c[0],i=c[1],o=Object(je.a)(),u=o.register,b=o.handleSubmit,m=o.formState.errors,O=Object(r.c)((function(e){return e.user}));return Object(Q.jsx)("div",{className:"form-container",children:Object(Q.jsxs)("form",{onSubmit:b((function(n){e(function(e,t){return function(){var n=Object(d.a)(l.a.mark((function n(c){var a,i,s,r,o;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:R}),a=e.name,i=e.email,s=e.password,r=e.favGenres,n.next=5,j.a.post("https://movit-api.herokuapp.com/api/users/register",{name:a,email:i,password:s});case 5:return o=n.sent,W(o.data.token),n.next=9,j.a.post("https://movit-api.herokuapp.com/api/profile/",{favGenres:r});case 9:return n.next=11,c(B());case 11:c({type:A}),t.push("/"),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(0),console.log(n.t0),c({type:U});case 19:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e){return n.apply(this,arguments)}}()}(n,t))})),children:[Object(Q.jsx)("h1",{className:"form-name",children:"Sign up"}),Object(Q.jsx)("label",{children:"Name"}),Object(Q.jsx)("input",Object(s.a)({className:"input"},u("name",{required:"This is required",maxLength:{value:20,message:"Too long >:((((("}}))),m.name&&Object(Q.jsx)("p",{children:m.name.message}),Object(Q.jsx)("label",{children:"Email"}),Object(Q.jsx)("input",Object(s.a)({className:"input"},u("email",{required:"This is required"}))),m.email&&Object(Q.jsx)("p",{children:m.email.message}),Object(Q.jsxs)("label",{children:["Password",Object(Q.jsx)("input",Object(s.a)({className:"input",type:a},u("password",{required:"This is required",maxLength:{value:100,message:"How could someone remember this??(too long)"}}))),Object(Q.jsx)("div",{children:Object(Q.jsx)("i",{children:i})})]}),m.password&&Object(Q.jsx)("p",{children:m.password.message}),Object(Q.jsxs)("label",{children:["Favourite genres",Object(Q.jsx)("input",Object(s.a)({className:"input"},u("favGenres",{required:"This is required",maxLength:{value:100,message:"How could someone remember this??(too long)"}})))]}),Object(Q.jsx)("input",{className:"input",type:"submit",value:"Sign up",disabled:!!O.loading}),Object(Q.jsx)("div",{children:Object(Q.jsxs)("div",{style:{margin:"30px auto 0",width:"fit-content"},children:["Already have an account?"," ",Object(Q.jsx)(J.b,{to:"/sign-in",style:{color:"#7975ec"},children:"Sign in"})]})})]})})},pe=(n(119),function(){return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)("div",{className:"comment-grid",children:[Object(Q.jsxs)("div",{className:"comment-item comment-user",children:[Object(Q.jsx)("img",{src:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=880&q=80",style:{height:"50px",width:"50px",borderRadius:"100%",marginRight:"10px"},alt:""}),Object(Q.jsx)("h3",{children:"User's name"})]}),Object(Q.jsx)("p",{className:"comment-item",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia reprehenderit odio omnis quasi incidunt, hic ullam alias quisquam aliquid pariatur commodi dolorum at eos. Corrupti in itaque officiis sed odio!"})]})})}),xe=n(33),ve=(n(120),function(){return Object(Q.jsxs)("form",{className:"wrapper",children:[Object(Q.jsx)("input",{className:"comments-input wrapper-item",type:"text",placeholder:"Write something ..."}),Object(Q.jsx)("button",{className:"comments-submit-btn wrapper-item",type:"submit",children:Object(Q.jsx)(xe.c,{size:20})}),Object(Q.jsx)("div",{className:"wrapper-item",children:Object(Q.jsx)(pe,{})})]})}),fe=(n(121),n(24)),ge=n(45),Ne=(n(122),function(e){var t=e.detail,n=Object(r.b)(),a=Object(c.useState)(!1),i=Object(P.a)(a,2),s=i[0],o=i[1],u=Object(c.useState)(!1),j=Object(P.a)(u,2),b=j[0],O=j[1];console.log("MovieDetail",e);var h=function(){var e;n((e=t._id,function(){var t=Object(d.a)(l.a.mark((function t(n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m("movies/".concat(e,"/like"),"PUT",null);case 2:c=t.sent,console.log(c),n({type:I,payload:e});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},p=function(){var e;n((e=t._id,function(){var t=Object(d.a)(l.a.mark((function t(n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m("movies/".concat(e,"/unlike"),"PUT",null);case 2:c=t.sent,console.log(c),n({type:C,payload:e});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))};return Object(Q.jsxs)("div",{className:"detail-container",children:[Object(Q.jsx)(J.b,{to:"/",className:"detail-back-button",children:Object(Q.jsx)("h3",{children:"Back"})}),Object(Q.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[Object(Q.jsxs)("div",{children:[Object(Q.jsx)("img",{src:null===t||void 0===t?void 0:t.imageUrl,alt:"",className:"detail-image"}),Object(Q.jsxs)("div",{className:"detail-button-container",children:[Object(Q.jsxs)("button",{className:"rate-btn",onClick:function(){return O(!b)},children:[b?Object(Q.jsx)(K.e,{style:{paddingRight:"10px"}}):Object(Q.jsx)(K.h,{style:{paddingRight:"10px"}})," ","Rate"]}),Object(Q.jsx)("button",{className:"like-btn",onClick:function(){return o(!s)},children:s?Object(Q.jsx)(K.d,{onClick:function(){return h()}}):Object(Q.jsx)(K.f,{onClick:function(){return p()}})})]})]}),Object(Q.jsxs)("div",{style:{width:"100%"},children:[Object(Q.jsx)("p",{className:"detail-title",children:null===t||void 0===t?void 0:t.title}),Object(Q.jsx)("div",{className:"detail-genres",children:null===t||void 0===t?void 0:t.genres.map((function(e){return Object(Q.jsx)("div",{className:"detail-genre",children:e})}))})]})]}),Object(Q.jsxs)("div",{className:"detail-content-container",children:[Object(Q.jsxs)("div",{className:"detail-content-item",children:[Object(Q.jsx)("p",{className:"bottom-line",style:{fontSize:"40px",fontWeight:"700",marginBottom:"10px"},children:"MOVIE INFO"}),Object(Q.jsxs)("div",{className:"detail-country",children:[Object(Q.jsx)("h3",{children:"Country:"}),Object(Q.jsx)(fe.a,{})," ",(null===t||void 0===t?void 0:t.country)||"Loading..."]}),Object(Q.jsxs)("div",{className:"detail-year",children:[Object(Q.jsx)("h3",{children:"Release year:"}),Object(Q.jsx)(fe.a,{})," ",(null===t||void 0===t?void 0:t.releaseYear)||"Loading..."]}),Object(Q.jsxs)("div",{className:"detail-description",children:[Object(Q.jsx)("h3",{style:{fontSize:"30px"},children:"Director:"}),Object(Q.jsx)(fe.a,{})," ",(null===t||void 0===t?void 0:t.director)||"Loading..."]}),Object(Q.jsxs)("div",{className:"detail-description",children:[Object(Q.jsx)("h3",{style:{fontSize:"30px"},children:"Writer(s):"}),Object(Q.jsx)(fe.a,{})," ",(null===t||void 0===t?void 0:t.writer.map((function(e){return e+" \ud83d\udca0 "})))||"Loading..."]}),Object(Q.jsxs)("div",{className:"detail-description",children:[Object(Q.jsx)("h3",{style:{fontSize:"30px"},children:"Stars:"}),Object(Q.jsx)(fe.a,{})," ",(null===t||void 0===t?void 0:t.stars.map((function(e){return e+" \ud83d\udca0 "})))||"Loading..."]}),Object(Q.jsxs)("div",{className:"detail-description",children:[Object(Q.jsx)("h3",{style:{fontSize:"30px"},children:"Description:"}),Object(Q.jsx)(fe.a,{})," ",(null===t||void 0===t?void 0:t.description)||"Loading..."]}),Object(Q.jsxs)("div",{className:"detail-description",children:[Object(Q.jsx)("h3",{style:{fontSize:"30px"},children:"Content:"}),Object(Q.jsx)(fe.a,{})," ",(null===t||void 0===t?void 0:t.content)||"Loading..."]})]}),Object(Q.jsxs)("div",{className:"detail-statics detail-content-item",children:[Object(Q.jsx)("div",{className:"detail-likes",children:Object(Q.jsxs)("h3",{children:["Likes: ","".concat(null===t||void 0===t?void 0:t.likeCounter," \u2764\ufe0f")]})}),Object(Q.jsxs)("div",{className:"detail-rating",children:[Object(Q.jsx)("h3",{children:"Rating:"}),Object(Q.jsx)(ge.a,{value:null===t||void 0===t?void 0:t.rating,maxValue:10,text:"".concat(null===t||void 0===t?void 0:t.rating,"/10"),strokeWidth:5,styles:Object(ge.b)({textColor:"#7959ec",pathColor:"#7959ec"})})]})]}),Object(Q.jsx)("div",{className:" detail-comments detail-content-item",children:Object(Q.jsxs)("div",{children:[Object(Q.jsx)("h3",{className:"bottom-line",style:{fontSize:"30px"},children:"COMMENTS"}),Object(Q.jsx)(ve,{}),null===t||void 0===t?void 0:t.comments]})})]})]},null===t||void 0===t?void 0:t._id)}),ye=(n(123),function(e){return{type:G,payload:e}}),we=(n(124),function(){var e=Object(r.b)();return Object(Q.jsxs)("nav",{className:"admin-nav",children:[Object(Q.jsx)("div",{className:"admin-nav-item",onClick:function(){return e(ye(0))},children:"Overview"}),Object(Q.jsx)("div",{className:"admin-nav-item",onClick:function(){return e(ye(1))},children:"Movies"}),Object(Q.jsx)("div",{className:"admin-nav-item",onClick:function(){return e(ye(2))},children:"Users"})]})}),Se=(n(125),function(e){var t=e.movies,n=e.users;return console.log(n),Object(Q.jsxs)("div",{className:"admin-overview",children:[Object(Q.jsx)("div",{className:"title",children:"Admin Overview"}),Object(Q.jsxs)("div",{className:"content",children:[Object(Q.jsxs)("div",{className:"admin-overview-item",children:[Object(Q.jsx)("div",{className:"item-title",children:"Number of Movies"}),Object(Q.jsx)("div",{className:"item-detail",children:t.length})]}),Object(Q.jsxs)("div",{className:"admin-overview-item",children:[Object(Q.jsx)("div",{className:"item-title",children:"Number of Users"}),Object(Q.jsx)("div",{className:"item-detail",children:n.length})]})]})]})}),ke=(n(126),n(127),function(e){var t=e.movie,n=Object(r.b)();return Object(Q.jsx)("tbody",{children:Object(Q.jsxs)("tr",{children:[Object(Q.jsx)("td",{children:t._id}),Object(Q.jsx)("td",{children:Object(Q.jsx)(J.b,{to:"/movies/"+t._id,children:t.title})}),Object(Q.jsx)("td",{children:t.releaseYear}),Object(Q.jsx)("td",{children:t.comments.length}),Object(Q.jsx)("td",{className:"function",onClick:function(){return n((e=t._id,function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.delete("https://movit-api.herokuapp.com/api/movies/".concat(e));case 3:t.sent,n({type:_,payload:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response.data);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:"Delete"})]})})}),Ee=function(e){var t=e.movies;return Object(Q.jsxs)("div",{className:"movies-container",children:[Object(Q.jsx)("div",{className:"title",children:"Movie List"}),Object(Q.jsxs)("table",{className:"movies-table",children:[Object(Q.jsx)("tbody",{children:Object(Q.jsxs)("tr",{className:"header",children:[Object(Q.jsx)("th",{className:"header-item",children:"ID"}),Object(Q.jsx)("th",{className:"header-item",children:"Title"}),Object(Q.jsx)("th",{className:"header-item",children:"Release Year"}),Object(Q.jsx)("th",{className:"header-item",children:"Number of comments"}),Object(Q.jsx)("th",{className:"actions header-item",children:"Actions "})]})}),t.map((function(e,t){return Object(Q.jsx)(ke,{movie:e},t)}))]})]})},_e=(n(128),function(e){var t=e.user,n=Object(r.b)();return Object(Q.jsx)("tbody",{children:Object(Q.jsxs)("tr",{children:[Object(Q.jsx)("td",{children:t.user._id}),Object(Q.jsx)("td",{children:t.user.name}),Object(Q.jsx)("td",{children:t.user.accountType}),Object(Q.jsx)("td",{children:t._id}),function(){switch(t.user.accountType){case"admin":return Object(Q.jsx)("td",{children:"Unable to modify"});case"moderator":return Object(Q.jsx)("td",{className:"function",onClick:function(){return n((e=t._id,t.user._id,function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:F,payload:e})}catch(c){console.log(c.response.data)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e},children:"Unmod"});case"member":return Object(Q.jsx)("td",{className:"function",onClick:function(){return n((e=t._id,t.user._id,function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:z,payload:e})}catch(c){console.log(c.response.data)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e},children:"Mod"});default:return}}()]})})}),Te=(n(129),function(e){var t=e.users;return Object(Q.jsxs)("div",{className:"movies-container",children:[Object(Q.jsx)("div",{className:"title",children:"User List"}),Object(Q.jsxs)("table",{className:"movies-table",children:[Object(Q.jsx)("tbody",{children:Object(Q.jsxs)("tr",{className:"header",children:[Object(Q.jsx)("th",{className:"header-item",children:"Account ID"}),Object(Q.jsx)("th",{className:"header-item",children:"Name"}),Object(Q.jsx)("th",{className:"header-item",children:"Account Type"}),Object(Q.jsx)("th",{className:"header-item",children:"Profile ID"}),Object(Q.jsx)("th",{className:"actions header-item",children:"Actions "})]})}),t.map((function(e,t){return Object(Q.jsx)(_e,{user:e},t)}))]})]})}),Ie=function(){var e=Object(r.b)();Object(c.useEffect)((function(){e(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:q}),e.next=3,m("profile","GET",null);case 3:n=e.sent,t({type:V,payload:n.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(r.c)((function(e){return e.movie.movies})),n=Object(r.c)((function(e){return e.adminUI})),a=n.loading?Object(Q.jsx)("div",{children:"Loading"}):function(e){switch(e){case 0:return Object(Q.jsx)(Se,{movies:t,users:n.users});case 1:return Object(Q.jsx)(Ee,{movies:t});case 2:return Object(Q.jsx)(Te,{users:n.users});default:return Object(Q.jsx)(Se,{movies:t})}}(n.currentView);return Object(Q.jsxs)("div",{className:"admin-container",children:[Object(Q.jsx)("div",{className:"left",children:Object(Q.jsx)(we,{})}),Object(Q.jsx)("div",{className:"right",children:a})]})},Ce=function(e){console.log("router",e.movies);var t=e.movies;return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)(me.c,{children:[Object(Q.jsx)(me.a,{path:"/sign-up",component:he}),Object(Q.jsx)(me.a,{path:"/sign-in",component:Oe}),Object(Q.jsx)(me.a,{path:"/admin",component:Ie}),Object(Q.jsx)(me.a,{path:"/movies/:id",component:function(e){var n=e.match;return Object(Q.jsx)(Ne,{detail:t.movies.find((function(e){return e._id===n.params.id}))},n.params.id)}}),Object(Q.jsx)(me.a,{path:"/",component:function(){return Object(Q.jsx)(ue,Object(s.a)({},e))}})]})})},Le=(n(130),function(){return Object(Q.jsx)("div",{className:"footer",children:Object(Q.jsxs)("div",{className:"footer-container",children:[Object(Q.jsxs)("div",{style:{width:"400px"},children:[Object(Q.jsx)("h3",{style:{marginBottom:"5px"},children:"About Us"}),Object(Q.jsx)("p",{children:"Movit Lorem ipsum dolor sit amet consectetur adipisicing elit. Consequuntur, harum? Nostrum, in sint dolor commodi quam totam aperiam autem tempora accusantium, iure ut reprehenderit cum minus ab suscipit temporibus ipsum."})]}),Object(Q.jsx)("div",{children:Object(Q.jsx)("span",{children:"Movit project, Copyright \xa9 2021"})}),Object(Q.jsx)("div",{children:Object(Q.jsxs)("ul",{className:"social-links",children:[Object(Q.jsx)("li",{children:Object(Q.jsx)("a",{href:"https://facebook.com",children:Object(Q.jsx)(xe.a,{className:"icon"})})}),Object(Q.jsx)("li",{children:Object(Q.jsx)("a",{href:"https://github.com",children:Object(Q.jsx)(K.c,{className:"icon"})})}),Object(Q.jsx)("li",{children:Object(Q.jsx)("a",{href:"https://instagram.com",children:Object(Q.jsx)(xe.b,{className:"icon"})})}),Object(Q.jsx)("li",{children:Object(Q.jsx)("a",{href:"https://twitter.com",children:Object(Q.jsx)(K.i,{className:"icon"})})})]})})]})})}),Ae=function(){var e=Object(me.g)().pathname;return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[e]),null};var De=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return console.log("state",e),e}));return Object(c.useEffect)((function(){e(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("movies","GET",null);case 2:n=e.sent,t({type:f}),t(H(n.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(Q.jsx)("div",{className:"container grid-wrapper",children:Object(Q.jsxs)(J.a,{children:[Object(Q.jsx)(Ae,{}),Object(Q.jsx)(X,Object(s.a)({},t.user)),Object(Q.jsx)(Ce,{movies:t.movie,user:t.user}),Object(Q.jsx)(Le,{})]})})},Me=n(39),Re=n(46),Ue={loading:!1,errors:null,messages:null},Ge={authenticated:!1,loading:!1,userDetails:{}},Ve=n(12),qe={movies:[],movie:{},loading:!1},ze={currentView:0,users:[],loading:!1},Fe=(Re.a,Object(Me.b)({UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(s.a)(Object(s.a)({},e),{},{errors:t.payload,loading:!1});case v:return Object(s.a)(Object(s.a)({},e),{},{errors:null,loading:!1});case p:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case x:return Object(s.a)(Object(s.a)({},e),{},{loading:!1});case g:return Object(s.a)(Object(s.a)({},e),{},{messages:t.payload,loading:!1});case N:return Object(s.a)(Object(s.a)({},e),{},{messages:null,loading:!1});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(s.a)(Object(s.a)({},e),{},{authenticated:!0,loading:!1});case D:return Ge;case M:return{authenticated:!0,loading:!1,userDetails:Object(s.a)({},t.payload)};case R:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case U:return Object(s.a)(Object(s.a)({},e),{},{loading:!1});default:return e}},movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case f:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case y:case S:case k:return Object(s.a)(Object(s.a)({},e),{},{movies:t.payload,loading:!1});case w:return Object(s.a)(Object(s.a)({},e),{},{movies:[t.payload].concat(Object(Ve.a)(e.movies)),loading:!0});case E:return Object(s.a)(Object(s.a)({},e),{},{movie:t.payload,loading:!1});case _:var n=e.movies.map((function(e){return e._id.toString()})).indexOf(t.payload);return e.movies.splice(n,1),Object(s.a)({},e);case T:var c=e.movies.findIndex((function(e){return e.id===t.payload.id}));return e.movies[c]=t.payload,Object(s.a)({},e);case L:return Object(s.a)(Object(s.a)({},e),{},{movies:{}});case I:var a=e.movies.findIndex((function(e){return e.id===t.payload.id}));return e.movies[a].likeCounter+=1,Object(s.a)({},e);case C:var i=e.movies.findIndex((function(e){return e.id===t.payload.id}));return e.movies[i].likeCounter-=1,Object(s.a)({},e);default:return e}},adminUI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case G:return Object(s.a)(Object(s.a)({},e),{},{currentView:t.payload});case V:return Object(s.a)(Object(s.a)({},e),{},{users:t.payload,loading:!1});case q:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case z:var n=e.users.map((function(e){return e._id.toString()})).indexOf(t.payload);return console.log(n),e.users[n].user.accountType="moderator",Object(s.a)({},e);case F:var c=e.users.map((function(e){return e._id.toString()})).indexOf(t.payload);return console.log(c),e.users[c].user.accountType="member",Object(s.a)({},e);default:return e}}})),We=Object(Me.c)(Fe,{},Object(Me.a)(Re.a));i.a.render(Object(Q.jsx)(r.a,{store:We,children:Object(Q.jsx)(De,{})}),document.getElementById("root"))},58:function(e,t,n){},68:function(e,t,n){},92:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){}},[[131,1,2]]]);
//# sourceMappingURL=main.7321f43c.chunk.js.map